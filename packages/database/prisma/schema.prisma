datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Call {
  id       Int      @id @default(autoincrement())
  source   Source   @relation(fields: [sourceId], references: [id])
  sourceId Int
  cid      String
  category String
  geoid    Int?
  meta     Json
  added    DateTime @default(now())
  expired  DateTime?
  geocode  Geocode? @relation(fields: [geoid], references: [id])
}

model Source {
  id         Int      @id @default(autoincrement())
  tag        String
  url        String
  parser     String
  updateTime DateTime @map("update_time")
  calls      Call[]
}

model Geocode {
  id        Int      @id @default(autoincrement())
  location  String
  latitude  Float?
  longitude Float?
  resolved  DateTime?
  results   Json?
  calls     Call[]
}

// Add more models as needed